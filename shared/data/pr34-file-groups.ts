import { FileGroup, FileChange } from '../types/PRFileTypes';

export const pr34FileGroups: FileGroup[] = [
  {
    id: 'api-contract',
    name: 'API Contract Update: Review Focus Exposure',
    reviewed: false,
    files: [
      { path: 'openapi.yaml' },
    ]
  },
  {
    id: 'core-logic',
    name: 'Core Logic: Review Focus in Grouping Service',
    reviewed: false,
    files: [
      { path: 'PrDiffGroupingService.java' },
      { path: 'ReviewFocusExtractor.java' },
      { path: 'PrDiffGroupDto.java' },
    ]
  },
  {
    id: 'test-coverage',
    name: 'Test Coverage: Grouping Service & Controller',
    reviewed: false,
    files: [
      { path: 'PrDiffGroupingServiceTest.java' },
      { path: 'PrDiffGroupingControllerTest.java' },
      { path: 'ReviewFocusExtractorTest.java' },
      { path: 'MockClaudeResponses.java' },
    ]
  },
  {
    id: 'infrastructure-snapshots',
    name: 'Infrastructure Test Snapshots Update',
    reviewed: false,
    files: [
      { path: 'infra-snapshot-dev.json' },
      { path: 'infra-snapshot-staging.json' },
      { path: 'infra-snapshot-prod.json' },
      { path: 'infra-snapshot-us-west-2.json' },
      { path: 'infra-snapshot-eu-central-1.json' },
      { path: 'infra-snapshot-ap-southeast-1.json' },
      { path: 'infra-snapshot-ap-northeast-1.json' },
    ]
  },
];

export const pr34FileChanges: FileChange[] = [
  {
    groupId: 'api-contract',
    groupName: 'API Contract Update: Review Focus Exposure',
    fileCount: 1,
    additions: 42,
    deletions: 3,
    needsReview: true,
    description: 'Added new field to OpenAPI specification for exposing review focus in PR diff groups',
    reviewFocus: 'Verify the new field definition follows API standards, check backwards compatibility, and ensure proper documentation. Confirm field naming, type, and whether it should be required or optional.',
    files: [
      {
        filename: 'api-definitions/openapi.yaml',
        additions: 42,
        deletions: 3,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: 'openapi: 3.0.3' },
          { lineNumber: 2, type: 'context', content: 'info:' },
          { lineNumber: 3, type: 'context', content: '  title: SonarQube Pull Request API' },
          { lineNumber: 4, type: 'context', content: '  version: 1.5.0' },
          { lineNumber: 5, type: 'context', content: '' },
          { lineNumber: 6, type: 'context', content: 'paths:' },
          { lineNumber: 7, type: 'context', content: '  /api/pull_requests/{pr_id}/diff_groups:' },
          { lineNumber: 8, type: 'context', content: '    get:' },
          { lineNumber: 9, type: 'context', content: '      summary: Get PR diff groups with intelligent file grouping' },
          { lineNumber: 10, type: 'context', content: '      parameters:' },
          { lineNumber: 11, type: 'context', content: '        - name: pr_id' },
          { lineNumber: 12, type: 'context', content: '          in: path' },
          { lineNumber: 13, type: 'context', content: '          required: true' },
          { lineNumber: 14, type: 'context', content: '          schema:' },
          { lineNumber: 15, type: 'context', content: '            type: integer' },
          { lineNumber: 16, type: 'context', content: '      responses:' },
          { lineNumber: 17, type: 'context', content: '        "200":' },
          { lineNumber: 18, type: 'context', content: '          description: PR diff groups retrieved successfully' },
          { lineNumber: 19, type: 'context', content: '          content:' },
          { lineNumber: 20, type: 'context', content: '            application/json:' },
          { lineNumber: 21, type: 'context', content: '              schema:' },
          { lineNumber: 22, type: 'context', content: '                type: object' },
          { lineNumber: 23, type: 'context', content: '                properties:' },
          { lineNumber: 24, type: 'context', content: '                  pr_id:' },
          { lineNumber: 25, type: 'context', content: '                    type: integer' },
          { lineNumber: 26, type: 'context', content: '                  groups:' },
          { lineNumber: 27, type: 'context', content: '                    type: array' },
          { lineNumber: 28, type: 'context', content: '                    items:' },
          { lineNumber: 29, type: 'context', content: '                      $ref: \'#/components/schemas/PrDiffGroup\'' },
          { lineNumber: 30, type: 'context', content: '' },
          { lineNumber: 31, type: 'context', content: 'components:' },
          { lineNumber: 32, type: 'context', content: '  schemas:' },
          { lineNumber: 33, type: 'context', content: '    PrDiffGroup:' },
          { lineNumber: 34, type: 'context', content: '      type: object' },
          { lineNumber: 35, type: 'delete', content: '      required:' },
          { lineNumber: 36, type: 'delete', content: '        - group_id' },
          { lineNumber: 37, type: 'delete', content: '        - group_name' },
          { lineNumber: 38, type: 'add', content: '      required: [group_id, group_name, files]' },
          { lineNumber: 39, type: 'context', content: '      properties:' },
          { lineNumber: 40, type: 'context', content: '        group_id:' },
          { lineNumber: 41, type: 'context', content: '          type: string' },
          { lineNumber: 42, type: 'context', content: '          description: Unique identifier for the file group' },
          { lineNumber: 43, type: 'context', content: '        group_name:' },
          { lineNumber: 44, type: 'context', content: '          type: string' },
          { lineNumber: 45, type: 'context', content: '          description: Human-readable name for the file group' },
          { lineNumber: 46, type: 'context', content: '        description:' },
          { lineNumber: 47, type: 'context', content: '          type: string' },
          { lineNumber: 48, type: 'context', content: '          description: Detailed description of what files in this group represent' },
          { lineNumber: 49, type: 'add', content: '        review_focus:' },
          { lineNumber: 50, type: 'add', content: '          type: string' },
          { lineNumber: 51, type: 'add', content: '          nullable: true' },
          { lineNumber: 52, type: 'add', content: '          description: >' },
          { lineNumber: 53, type: 'add', content: '            AI-generated guidance on what to focus on when reviewing this group.' },
          { lineNumber: 54, type: 'add', content: '            Only present when groups are generated by Claude AI.' },
          { lineNumber: 55, type: 'add', content: '            Provides specific areas of concern, potential issues to watch for,' },
          { lineNumber: 56, type: 'add', content: '            and key validation points for reviewers.' },
          { lineNumber: 57, type: 'add', content: '          example: >' },
          { lineNumber: 58, type: 'add', content: '            "Verify API contract changes maintain backwards compatibility.' },
          { lineNumber: 59, type: 'add', content: '            Check that new fields have proper validation and documentation.' },
          { lineNumber: 60, type: 'add', content: '            Ensure error responses are handled correctly."' },
          { lineNumber: 61, type: 'context', content: '        files:' },
          { lineNumber: 62, type: 'context', content: '          type: array' },
          { lineNumber: 63, type: 'context', content: '          items:' },
          { lineNumber: 64, type: 'context', content: '            type: object' },
          { lineNumber: 65, type: 'context', content: '            properties:' },
          { lineNumber: 66, type: 'context', content: '              filename:' },
          { lineNumber: 67, type: 'context', content: '                type: string' },
          { lineNumber: 68, type: 'context', content: '              additions:' },
          { lineNumber: 69, type: 'context', content: '                type: integer' },
          { lineNumber: 70, type: 'context', content: '              deletions:' },
          { lineNumber: 71, type: 'context', content: '                type: integer' },
          { lineNumber: 72, type: 'add', content: '        generated_by:' },
          { lineNumber: 73, type: 'add', content: '          type: string' },
          { lineNumber: 74, type: 'add', content: '          nullable: true' },
          { lineNumber: 75, type: 'add', content: '          description: Model identifier if groups were generated by AI (e.g., "claude-sonnet-4-5")' },
          { lineNumber: 76, type: 'add', content: '          example: "claude-sonnet-4-5-20250929"' },
          { lineNumber: 77, type: 'context', content: '        file_count:' },
          { lineNumber: 78, type: 'context', content: '          type: integer' },
          { lineNumber: 79, type: 'context', content: '        additions:' },
          { lineNumber: 80, type: 'context', content: '          type: integer' },
          { lineNumber: 81, type: 'context', content: '        deletions:' },
          { lineNumber: 82, type: 'context', content: '          type: integer' },
        ],
        expanded: false,
        checked: false
      },
    ]
  },
  {
    groupId: 'core-logic',
    groupName: 'Core Logic: Review Focus in Grouping Service',
    fileCount: 3,
    additions: 134,
    deletions: 18,
    needsReview: true,
    description: 'Modified PrDiffGroupingService to include review focus information when generating PR diff groups',
    reviewFocus: 'Examine how review focus is being populated and returned. Check if the logic correctly extracts and formats the focus data. Verify the changes align with the API contract updates in openapi.yaml.',
    files: [
      {
        filename: 'src/main/java/io/sonarcloud/prdiff/PrDiffGroupingService.java',
        additions: 87,
        deletions: 12,
        coverage: 92,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: 'package com.sonarqube.server.pullrequest;' },
          { lineNumber: 2, type: 'context', content: '' },
          { lineNumber: 3, type: 'context', content: 'import com.sonarqube.server.ai.ClaudeAiService;' },
          { lineNumber: 4, type: 'add', content: 'import com.sonarqube.server.ai.ReviewFocusExtractor;' },
          { lineNumber: 5, type: 'context', content: 'import org.springframework.stereotype.Service;' },
          { lineNumber: 6, type: 'context', content: '' },
          { lineNumber: 7, type: 'context', content: '@Service' },
          { lineNumber: 8, type: 'context', content: 'public class PrDiffGroupingService {' },
          { lineNumber: 9, type: 'context', content: '' },
          { lineNumber: 10, type: 'context', content: '  private final ClaudeAiService aiService;' },
          { lineNumber: 11, type: 'add', content: '  private final ReviewFocusExtractor focusExtractor;' },
          { lineNumber: 12, type: 'context', content: '  private final PrDiffRepository diffRepository;' },
          { lineNumber: 13, type: 'context', content: '' },
          { lineNumber: 14, type: 'delete', content: '  public PrDiffGroupingService(ClaudeAiService aiService, PrDiffRepository diffRepository) {' },
          { lineNumber: 15, type: 'add', content: '  public PrDiffGroupingService(' },
          { lineNumber: 16, type: 'add', content: '      ClaudeAiService aiService,' },
          { lineNumber: 17, type: 'add', content: '      ReviewFocusExtractor focusExtractor,' },
          { lineNumber: 18, type: 'add', content: '      PrDiffRepository diffRepository) {' },
          { lineNumber: 19, type: 'context', content: '    this.aiService = aiService;' },
          { lineNumber: 20, type: 'add', content: '    this.focusExtractor = focusExtractor;' },
          { lineNumber: 21, type: 'context', content: '    this.diffRepository = diffRepository;' },
          { lineNumber: 22, type: 'context', content: '  }' },
          { lineNumber: 23, type: 'context', content: '' },
          { lineNumber: 24, type: 'context', content: '  /**' },
          { lineNumber: 25, type: 'delete', content: '   * Generate file groups for a PR using Claude AI' },
          { lineNumber: 26, type: 'add', content: '   * Generate file groups for a PR using Claude AI with review focus' },
          { lineNumber: 27, type: 'context', content: '   */' },
          { lineNumber: 28, type: 'context', content: '  public PrDiffGroupsResponse generateGroups(int prId) {' },
          { lineNumber: 29, type: 'context', content: '    List<FileDiff> diffs = diffRepository.findByPrId(prId);' },
          { lineNumber: 30, type: 'context', content: '' },
          { lineNumber: 31, type: 'delete', content: '    // Call Claude AI to generate intelligent file groupings' },
          { lineNumber: 32, type: 'add', content: '    // Call Claude AI to generate intelligent file groupings with focus areas' },
          { lineNumber: 33, type: 'context', content: '    ClaudeGroupingResponse aiResponse = aiService.generateFileGroups(diffs);' },
          { lineNumber: 34, type: 'context', content: '' },
          { lineNumber: 35, type: 'delete', content: '    // Convert AI response to our DTO format' },
          { lineNumber: 36, type: 'delete', content: '    List<PrDiffGroupDto> groups = aiResponse.getGroups().stream()' },
          { lineNumber: 37, type: 'delete', content: '        .map(this::convertToDto)' },
          { lineNumber: 38, type: 'delete', content: '        .collect(Collectors.toList());' },
          { lineNumber: 39, type: 'add', content: '    // Convert AI response to DTOs and enrich with review focus' },
          { lineNumber: 40, type: 'add', content: '    List<PrDiffGroupDto> groups = aiResponse.getGroups().stream()' },
          { lineNumber: 41, type: 'add', content: '        .map(group -> {' },
          { lineNumber: 42, type: 'add', content: '          PrDiffGroupDto dto = convertToDto(group);' },
          { lineNumber: 43, type: 'add', content: '          ' },
          { lineNumber: 44, type: 'add', content: '          // Extract and add review focus if AI-generated' },
          { lineNumber: 45, type: 'add', content: '          if (aiResponse.isAiGenerated()) {' },
          { lineNumber: 46, type: 'add', content: '            String reviewFocus = focusExtractor.extractFocus(group);' },
          { lineNumber: 47, type: 'add', content: '            dto.setReviewFocus(reviewFocus);' },
          { lineNumber: 48, type: 'add', content: '            dto.setGeneratedBy(aiResponse.getModelId());' },
          { lineNumber: 49, type: 'add', content: '          }' },
          { lineNumber: 50, type: 'add', content: '          ' },
          { lineNumber: 51, type: 'add', content: '          return dto;' },
          { lineNumber: 52, type: 'add', content: '        })' },
          { lineNumber: 53, type: 'add', content: '        .collect(Collectors.toList());' },
          { lineNumber: 54, type: 'context', content: '' },
          { lineNumber: 55, type: 'context', content: '    return new PrDiffGroupsResponse(prId, groups);' },
          { lineNumber: 56, type: 'context', content: '  }' },
          { lineNumber: 57, type: 'context', content: '' },
          { lineNumber: 58, type: 'context', content: '  private PrDiffGroupDto convertToDto(ClaudeFileGroup group) {' },
          { lineNumber: 59, type: 'delete', content: '    return new PrDiffGroupDto(' },
          { lineNumber: 60, type: 'delete', content: '        group.getGroupId(),' },
          { lineNumber: 61, type: 'delete', content: '        group.getGroupName(),' },
          { lineNumber: 62, type: 'delete', content: '        group.getDescription(),' },
          { lineNumber: 63, type: 'delete', content: '        group.getFiles()' },
          { lineNumber: 64, type: 'delete', content: '    );' },
          { lineNumber: 65, type: 'add', content: '    PrDiffGroupDto dto = new PrDiffGroupDto();' },
          { lineNumber: 66, type: 'add', content: '    dto.setGroupId(group.getGroupId());' },
          { lineNumber: 67, type: 'add', content: '    dto.setGroupName(group.getGroupName());' },
          { lineNumber: 68, type: 'add', content: '    dto.setDescription(group.getDescription());' },
          { lineNumber: 69, type: 'add', content: '    dto.setFiles(group.getFiles());' },
          { lineNumber: 70, type: 'add', content: '    dto.setFileCount(group.getFiles().size());' },
          { lineNumber: 71, type: 'add', content: '    ' },
          { lineNumber: 72, type: 'add', content: '    // Calculate stats' },
          { lineNumber: 73, type: 'add', content: '    int additions = group.getFiles().stream()' },
          { lineNumber: 74, type: 'add', content: '        .mapToInt(FileInfo::getAdditions)' },
          { lineNumber: 75, type: 'add', content: '        .sum();' },
          { lineNumber: 76, type: 'add', content: '    int deletions = group.getFiles().stream()' },
          { lineNumber: 77, type: 'add', content: '        .mapToInt(FileInfo::getDeletions)' },
          { lineNumber: 78, type: 'add', content: '        .sum();' },
          { lineNumber: 79, type: 'add', content: '    ' },
          { lineNumber: 80, type: 'add', content: '    dto.setAdditions(additions);' },
          { lineNumber: 81, type: 'add', content: '    dto.setDeletions(deletions);' },
          { lineNumber: 82, type: 'add', content: '    ' },
          { lineNumber: 83, type: 'add', content: '    return dto;' },
          { lineNumber: 84, type: 'context', content: '  }' },
          { lineNumber: 85, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'src/main/java/io/sonarcloud/prdiff/ReviewFocusExtractor.java',
        additions: 45,
        deletions: 0,
        coverage: 88,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'add', content: 'package com.sonarqube.server.ai;' },
          { lineNumber: 2, type: 'add', content: '' },
          { lineNumber: 3, type: 'add', content: 'import org.springframework.stereotype.Component;' },
          { lineNumber: 4, type: 'add', content: '' },
          { lineNumber: 5, type: 'add', content: '/**' },
          { lineNumber: 6, type: 'add', content: ' * Extracts review focus guidance from Claude AI-generated file groups' },
          { lineNumber: 7, type: 'add', content: ' */' },
          { lineNumber: 8, type: 'add', content: '@Component' },
          { lineNumber: 9, type: 'add', content: 'public class ReviewFocusExtractor {' },
          { lineNumber: 10, type: 'add', content: '' },
          { lineNumber: 11, type: 'add', content: '  /**' },
          { lineNumber: 12, type: 'add', content: '   * Extracts review focus from AI-generated group metadata' },
          { lineNumber: 13, type: 'add', content: '   *' },
          { lineNumber: 14, type: 'add', content: '   * @param group The Claude-generated file group' },
          { lineNumber: 15, type: 'add', content: '   * @return Formatted review focus guidance, or null if not available' },
          { lineNumber: 16, type: 'add', content: '   */' },
          { lineNumber: 17, type: 'add', content: '  public String extractFocus(ClaudeFileGroup group) {' },
          { lineNumber: 18, type: 'add', content: '    if (group == null || group.getReviewGuidance() == null) {' },
          { lineNumber: 19, type: 'add', content: '      return null;' },
          { lineNumber: 20, type: 'add', content: '    }' },
          { lineNumber: 21, type: 'add', content: '' },
          { lineNumber: 22, type: 'add', content: '    String guidance = group.getReviewGuidance();' },
          { lineNumber: 23, type: 'add', content: '    ' },
          { lineNumber: 24, type: 'add', content: '    // Clean up and format the guidance' },
          { lineNumber: 25, type: 'add', content: '    return formatGuidance(guidance);' },
          { lineNumber: 26, type: 'add', content: '  }' },
          { lineNumber: 27, type: 'add', content: '' },
          { lineNumber: 28, type: 'add', content: '  private String formatGuidance(String rawGuidance) {' },
          { lineNumber: 29, type: 'add', content: '    // Remove excessive whitespace' },
          { lineNumber: 30, type: 'add', content: '    String cleaned = rawGuidance.trim().replaceAll("\\\\s+", " ");' },
          { lineNumber: 31, type: 'add', content: '    ' },
          { lineNumber: 32, type: 'add', content: '    // Ensure proper sentence structure' },
          { lineNumber: 33, type: 'add', content: '    if (!cleaned.endsWith(".")) {' },
          { lineNumber: 34, type: 'add', content: '      cleaned += ".";' },
          { lineNumber: 35, type: 'add', content: '    }' },
          { lineNumber: 36, type: 'add', content: '    ' },
          { lineNumber: 37, type: 'add', content: '    // Limit to reasonable length (500 chars)' },
          { lineNumber: 38, type: 'add', content: '    if (cleaned.length() > 500) {' },
          { lineNumber: 39, type: 'add', content: '      cleaned = cleaned.substring(0, 497) + "...";' },
          { lineNumber: 40, type: 'add', content: '    }' },
          { lineNumber: 41, type: 'add', content: '    ' },
          { lineNumber: 42, type: 'add', content: '    return cleaned;' },
          { lineNumber: 43, type: 'add', content: '  }' },
          { lineNumber: 44, type: 'add', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'src/main/java/io/sonarcloud/prdiff/dto/PrDiffGroupDto.java',
        additions: 2,
        deletions: 6,
        coverage: 100,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: 'package com.sonarqube.server.pullrequest.dto;' },
          { lineNumber: 2, type: 'context', content: '' },
          { lineNumber: 3, type: 'context', content: 'import com.fasterxml.jackson.annotation.JsonProperty;' },
          { lineNumber: 4, type: 'context', content: 'import java.util.List;' },
          { lineNumber: 5, type: 'context', content: '' },
          { lineNumber: 6, type: 'context', content: 'public class PrDiffGroupDto {' },
          { lineNumber: 7, type: 'context', content: '' },
          { lineNumber: 8, type: 'context', content: '  @JsonProperty("group_id")' },
          { lineNumber: 9, type: 'context', content: '  private String groupId;' },
          { lineNumber: 10, type: 'context', content: '' },
          { lineNumber: 11, type: 'context', content: '  @JsonProperty("group_name")' },
          { lineNumber: 12, type: 'context', content: '  private String groupName;' },
          { lineNumber: 13, type: 'context', content: '' },
          { lineNumber: 14, type: 'context', content: '  @JsonProperty("description")' },
          { lineNumber: 15, type: 'context', content: '  private String description;' },
          { lineNumber: 16, type: 'context', content: '' },
          { lineNumber: 17, type: 'delete', content: '  // Review focus field - to be added in SC-41123' },
          { lineNumber: 18, type: 'delete', content: '  // @JsonProperty("review_focus")' },
          { lineNumber: 19, type: 'delete', content: '  // private String reviewFocus;' },
          { lineNumber: 20, type: 'add', content: '  @JsonProperty("review_focus")' },
          { lineNumber: 21, type: 'add', content: '  private String reviewFocus;' },
          { lineNumber: 22, type: 'context', content: '' },
          { lineNumber: 23, type: 'delete', content: '  // Generated by field - to be added in SC-41123' },
          { lineNumber: 24, type: 'delete', content: '  // @JsonProperty("generated_by")' },
          { lineNumber: 25, type: 'delete', content: '  // private String generatedBy;' },
          { lineNumber: 26, type: 'add', content: '  @JsonProperty("generated_by")' },
          { lineNumber: 27, type: 'add', content: '  private String generatedBy;' },
          { lineNumber: 28, type: 'context', content: '' },
          { lineNumber: 29, type: 'context', content: '  @JsonProperty("files")' },
          { lineNumber: 30, type: 'context', content: '  private List<FileInfo> files;' },
          { lineNumber: 31, type: 'context', content: '' },
          { lineNumber: 32, type: 'context', content: '  @JsonProperty("file_count")' },
          { lineNumber: 33, type: 'context', content: '  private int fileCount;' },
          { lineNumber: 34, type: 'context', content: '' },
          { lineNumber: 35, type: 'context', content: '  @JsonProperty("additions")' },
          { lineNumber: 36, type: 'context', content: '  private int additions;' },
          { lineNumber: 37, type: 'context', content: '' },
          { lineNumber: 38, type: 'context', content: '  @JsonProperty("deletions")' },
          { lineNumber: 39, type: 'context', content: '  private int deletions;' },
          { lineNumber: 40, type: 'context', content: '' },
          { lineNumber: 41, type: 'context', content: '  // Getters and setters...' },
          { lineNumber: 42, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
    ]
  },
  {
    groupId: 'test-coverage',
    groupName: 'Test Coverage: Grouping Service & Controller',
    fileCount: 4,
    additions: 198,
    deletions: 8,
    needsReview: true,
    description: 'Added test cases for review focus field in grouping service unit tests and integration tests',
    reviewFocus: 'Validate new assertions verify the presence and correctness of review focus data. Ensure test cases cover edge cases and that mock data appropriately represents real scenarios with Claude-generated groups.',
    files: [
      {
        filename: 'src/test/java/io/sonarcloud/prdiff/PrDiffGroupingServiceTest.java',
        additions: 89,
        deletions: 4,
        coverage: 95,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: 'package com.sonarqube.server.pullrequest;' },
          { lineNumber: 2, type: 'context', content: '' },
          { lineNumber: 3, type: 'context', content: 'import org.junit.jupiter.api.Test;' },
          { lineNumber: 4, type: 'context', content: 'import org.junit.jupiter.api.BeforeEach;' },
          { lineNumber: 5, type: 'context', content: 'import org.mockito.Mock;' },
          { lineNumber: 6, type: 'add', content: 'import static org.assertj.core.api.Assertions.assertThat;' },
          { lineNumber: 7, type: 'context', content: 'import static org.mockito.Mockito.*;' },
          { lineNumber: 8, type: 'context', content: '' },
          { lineNumber: 9, type: 'context', content: 'class PrDiffGroupingServiceTest {' },
          { lineNumber: 10, type: 'context', content: '' },
          { lineNumber: 11, type: 'context', content: '  @Mock' },
          { lineNumber: 12, type: 'context', content: '  private ClaudeAiService aiService;' },
          { lineNumber: 13, type: 'context', content: '' },
          { lineNumber: 14, type: 'add', content: '  @Mock' },
          { lineNumber: 15, type: 'add', content: '  private ReviewFocusExtractor focusExtractor;' },
          { lineNumber: 16, type: 'add', content: '' },
          { lineNumber: 17, type: 'context', content: '  @Mock' },
          { lineNumber: 18, type: 'context', content: '  private PrDiffRepository diffRepository;' },
          { lineNumber: 19, type: 'context', content: '' },
          { lineNumber: 20, type: 'context', content: '  private PrDiffGroupingService service;' },
          { lineNumber: 21, type: 'context', content: '' },
          { lineNumber: 22, type: 'context', content: '  @BeforeEach' },
          { lineNumber: 23, type: 'context', content: '  void setUp() {' },
          { lineNumber: 24, type: 'delete', content: '    service = new PrDiffGroupingService(aiService, diffRepository);' },
          { lineNumber: 25, type: 'add', content: '    service = new PrDiffGroupingService(aiService, focusExtractor, diffRepository);' },
          { lineNumber: 26, type: 'context', content: '  }' },
          { lineNumber: 27, type: 'context', content: '' },
          { lineNumber: 28, type: 'context', content: '  @Test' },
          { lineNumber: 29, type: 'delete', content: '  void generateGroups_shouldReturnGroupsFromAi() {' },
          { lineNumber: 30, type: 'add', content: '  void generateGroups_shouldIncludeReviewFocusWhenAiGenerated() {' },
          { lineNumber: 31, type: 'context', content: '    // Given' },
          { lineNumber: 32, type: 'context', content: '    int prId = 34;' },
          { lineNumber: 33, type: 'context', content: '    List<FileDiff> diffs = createMockDiffs();' },
          { lineNumber: 34, type: 'context', content: '    ' },
          { lineNumber: 35, type: 'context', content: '    ClaudeGroupingResponse aiResponse = new ClaudeGroupingResponse();' },
          { lineNumber: 36, type: 'add', content: '    aiResponse.setAiGenerated(true);' },
          { lineNumber: 37, type: 'add', content: '    aiResponse.setModelId("claude-sonnet-4-5-20250929");' },
          { lineNumber: 38, type: 'context', content: '    aiResponse.setGroups(createMockGroups());' },
          { lineNumber: 39, type: 'context', content: '    ' },
          { lineNumber: 40, type: 'context', content: '    when(diffRepository.findByPrId(prId)).thenReturn(diffs);' },
          { lineNumber: 41, type: 'context', content: '    when(aiService.generateFileGroups(diffs)).thenReturn(aiResponse);' },
          { lineNumber: 42, type: 'add', content: '    when(focusExtractor.extractFocus(any()))' },
          { lineNumber: 43, type: 'add', content: '        .thenReturn("Verify API contract changes maintain backwards compatibility.");' },
          { lineNumber: 44, type: 'context', content: '    ' },
          { lineNumber: 45, type: 'context', content: '    // When' },
          { lineNumber: 46, type: 'context', content: '    PrDiffGroupsResponse response = service.generateGroups(prId);' },
          { lineNumber: 47, type: 'context', content: '    ' },
          { lineNumber: 48, type: 'context', content: '    // Then' },
          { lineNumber: 49, type: 'delete', content: '    assertThat(response.getGroups()).hasSize(4);' },
          { lineNumber: 50, type: 'add', content: '    assertThat(response.getGroups())' },
          { lineNumber: 51, type: 'add', content: '        .hasSize(4)' },
          { lineNumber: 52, type: 'add', content: '        .allSatisfy(group -> {' },
          { lineNumber: 53, type: 'add', content: '          assertThat(group.getReviewFocus())' },
          { lineNumber: 54, type: 'add', content: '              .isNotNull()' },
          { lineNumber: 55, type: 'add', content: '              .contains("Verify API contract");' },
          { lineNumber: 56, type: 'add', content: '          assertThat(group.getGeneratedBy())' },
          { lineNumber: 57, type: 'add', content: '              .isEqualTo("claude-sonnet-4-5-20250929");' },
          { lineNumber: 58, type: 'add', content: '        });' },
          { lineNumber: 59, type: 'add', content: '  }' },
          { lineNumber: 60, type: 'add', content: '' },
          { lineNumber: 61, type: 'add', content: '  @Test' },
          { lineNumber: 62, type: 'add', content: '  void generateGroups_shouldNotIncludeReviewFocusWhenNotAiGenerated() {' },
          { lineNumber: 63, type: 'add', content: '    // Given' },
          { lineNumber: 64, type: 'add', content: '    int prId = 34;' },
          { lineNumber: 65, type: 'add', content: '    List<FileDiff> diffs = createMockDiffs();' },
          { lineNumber: 66, type: 'add', content: '    ' },
          { lineNumber: 67, type: 'add', content: '    ClaudeGroupingResponse aiResponse = new ClaudeGroupingResponse();' },
          { lineNumber: 68, type: 'add', content: '    aiResponse.setAiGenerated(false); // Rule-based grouping' },
          { lineNumber: 69, type: 'add', content: '    aiResponse.setGroups(createMockGroups());' },
          { lineNumber: 70, type: 'add', content: '    ' },
          { lineNumber: 71, type: 'add', content: '    when(diffRepository.findByPrId(prId)).thenReturn(diffs);' },
          { lineNumber: 72, type: 'add', content: '    when(aiService.generateFileGroups(diffs)).thenReturn(aiResponse);' },
          { lineNumber: 73, type: 'add', content: '    ' },
          { lineNumber: 74, type: 'add', content: '    // When' },
          { lineNumber: 75, type: 'add', content: '    PrDiffGroupsResponse response = service.generateGroups(prId);' },
          { lineNumber: 76, type: 'add', content: '    ' },
          { lineNumber: 77, type: 'add', content: '    // Then' },
          { lineNumber: 78, type: 'add', content: '    assertThat(response.getGroups())' },
          { lineNumber: 79, type: 'add', content: '        .allSatisfy(group -> {' },
          { lineNumber: 80, type: 'add', content: '          assertThat(group.getReviewFocus()).isNull();' },
          { lineNumber: 81, type: 'add', content: '          assertThat(group.getGeneratedBy()).isNull();' },
          { lineNumber: 82, type: 'add', content: '        });' },
          { lineNumber: 83, type: 'add', content: '    ' },
          { lineNumber: 84, type: 'add', content: '    verify(focusExtractor, never()).extractFocus(any());' },
          { lineNumber: 85, type: 'context', content: '  }' },
          { lineNumber: 86, type: 'context', content: '' },
          { lineNumber: 87, type: 'context', content: '  private List<FileDiff> createMockDiffs() {' },
          { lineNumber: 88, type: 'context', content: '    // Mock implementation...' },
          { lineNumber: 89, type: 'context', content: '  }' },
          { lineNumber: 90, type: 'context', content: '' },
          { lineNumber: 91, type: 'context', content: '  private List<ClaudeFileGroup> createMockGroups() {' },
          { lineNumber: 92, type: 'context', content: '    // Mock implementation...' },
          { lineNumber: 93, type: 'context', content: '  }' },
          { lineNumber: 94, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'src/test/java/io/sonarcloud/prdiff/PrDiffGroupingControllerTest.java',
        additions: 76,
        deletions: 2,
        coverage: 93,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: 'package com.sonarqube.server.pullrequest;' },
          { lineNumber: 2, type: 'context', content: '' },
          { lineNumber: 3, type: 'context', content: 'import org.junit.jupiter.api.Test;' },
          { lineNumber: 4, type: 'context', content: 'import org.springframework.beans.factory.annotation.Autowired;' },
          { lineNumber: 5, type: 'context', content: 'import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;' },
          { lineNumber: 6, type: 'context', content: 'import org.springframework.test.web.servlet.MockMvc;' },
          { lineNumber: 7, type: 'context', content: '' },
          { lineNumber: 8, type: 'context', content: 'import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;' },
          { lineNumber: 9, type: 'context', content: 'import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;' },
          { lineNumber: 10, type: 'context', content: '' },
          { lineNumber: 11, type: 'context', content: '@WebMvcTest(PrDiffGroupingController.class)' },
          { lineNumber: 12, type: 'context', content: 'class PrDiffGroupingControllerTest {' },
          { lineNumber: 13, type: 'context', content: '' },
          { lineNumber: 14, type: 'context', content: '  @Autowired' },
          { lineNumber: 15, type: 'context', content: '  private MockMvc mockMvc;' },
          { lineNumber: 16, type: 'context', content: '' },
          { lineNumber: 17, type: 'context', content: '  @Test' },
          { lineNumber: 18, type: 'delete', content: '  void getDiffGroups_shouldReturnGroups() throws Exception {' },
          { lineNumber: 19, type: 'add', content: '  void getDiffGroups_shouldIncludeReviewFocusInResponse() throws Exception {' },
          { lineNumber: 20, type: 'context', content: '    mockMvc.perform(get("/api/pull_requests/34/diff_groups"))' },
          { lineNumber: 21, type: 'context', content: '        .andExpect(status().isOk())' },
          { lineNumber: 22, type: 'context', content: '        .andExpect(jsonPath("$.pr_id").value(34))' },
          { lineNumber: 23, type: 'delete', content: '        .andExpect(jsonPath("$.groups").isArray());' },
          { lineNumber: 24, type: 'add', content: '        .andExpect(jsonPath("$.groups").isArray())' },
          { lineNumber: 25, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].review_focus").exists())' },
          { lineNumber: 26, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].review_focus").isString())' },
          { lineNumber: 27, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].generated_by").exists())' },
          { lineNumber: 28, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].generated_by").value("claude-sonnet-4-5-20250929"));' },
          { lineNumber: 29, type: 'add', content: '  }' },
          { lineNumber: 30, type: 'add', content: '' },
          { lineNumber: 31, type: 'add', content: '  @Test' },
          { lineNumber: 32, type: 'add', content: '  void getDiffGroups_shouldMatchOpenApiSchema() throws Exception {' },
          { lineNumber: 33, type: 'add', content: '    // Test that response matches the updated OpenAPI spec' },
          { lineNumber: 34, type: 'add', content: '    mockMvc.perform(get("/api/pull_requests/34/diff_groups"))' },
          { lineNumber: 35, type: 'add', content: '        .andExpect(status().isOk())' },
          { lineNumber: 36, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].group_id").exists())' },
          { lineNumber: 37, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].group_name").exists())' },
          { lineNumber: 38, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].description").exists())' },
          { lineNumber: 39, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].review_focus").exists())' },
          { lineNumber: 40, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].files").isArray())' },
          { lineNumber: 41, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].file_count").isNumber())' },
          { lineNumber: 42, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].additions").isNumber())' },
          { lineNumber: 43, type: 'add', content: '        .andExpect(jsonPath("$.groups[0].deletions").isNumber());' },
          { lineNumber: 44, type: 'context', content: '  }' },
          { lineNumber: 45, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'src/test/java/io/sonarcloud/prdiff/ReviewFocusExtractorTest.java',
        additions: 28,
        deletions: 0,
        coverage: 90,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'add', content: 'package com.sonarqube.server.ai;' },
          { lineNumber: 2, type: 'add', content: '' },
          { lineNumber: 3, type: 'add', content: 'import org.junit.jupiter.api.Test;' },
          { lineNumber: 4, type: 'add', content: 'import static org.assertj.core.api.Assertions.assertThat;' },
          { lineNumber: 5, type: 'add', content: '' },
          { lineNumber: 6, type: 'add', content: 'class ReviewFocusExtractorTest {' },
          { lineNumber: 7, type: 'add', content: '' },
          { lineNumber: 8, type: 'add', content: '  private final ReviewFocusExtractor extractor = new ReviewFocusExtractor();' },
          { lineNumber: 9, type: 'add', content: '' },
          { lineNumber: 10, type: 'add', content: '  @Test' },
          { lineNumber: 11, type: 'add', content: '  void extractFocus_shouldFormatAndCleanGuidance() {' },
          { lineNumber: 12, type: 'add', content: '    ClaudeFileGroup group = new ClaudeFileGroup();' },
          { lineNumber: 13, type: 'add', content: '    group.setReviewGuidance("  Verify API contract   changes  ");' },
          { lineNumber: 14, type: 'add', content: '' },
          { lineNumber: 15, type: 'add', content: '    String result = extractor.extractFocus(group);' },
          { lineNumber: 16, type: 'add', content: '' },
          { lineNumber: 17, type: 'add', content: '    assertThat(result).isEqualTo("Verify API contract changes.");' },
          { lineNumber: 18, type: 'add', content: '  }' },
          { lineNumber: 19, type: 'add', content: '' },
          { lineNumber: 20, type: 'add', content: '  @Test' },
          { lineNumber: 21, type: 'add', content: '  void extractFocus_shouldReturnNullWhenGuidanceMissing() {' },
          { lineNumber: 22, type: 'add', content: '    ClaudeFileGroup group = new ClaudeFileGroup();' },
          { lineNumber: 23, type: 'add', content: '' },
          { lineNumber: 24, type: 'add', content: '    String result = extractor.extractFocus(group);' },
          { lineNumber: 25, type: 'add', content: '' },
          { lineNumber: 26, type: 'add', content: '    assertThat(result).isNull();' },
          { lineNumber: 27, type: 'add', content: '  }' },
          { lineNumber: 28, type: 'add', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'src/test/java/io/sonarcloud/prdiff/MockClaudeResponses.java',
        additions: 5,
        deletions: 2,
        coverage: 100,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: 'package com.sonarqube.server.testutil;' },
          { lineNumber: 2, type: 'context', content: '' },
          { lineNumber: 3, type: 'context', content: 'public class MockClaudeResponses {' },
          { lineNumber: 4, type: 'context', content: '' },
          { lineNumber: 5, type: 'context', content: '  public static ClaudeGroupingResponse createMockResponse() {' },
          { lineNumber: 6, type: 'context', content: '    ClaudeGroupingResponse response = new ClaudeGroupingResponse();' },
          { lineNumber: 7, type: 'add', content: '    response.setAiGenerated(true);' },
          { lineNumber: 8, type: 'add', content: '    response.setModelId("claude-sonnet-4-5-20250929");' },
          { lineNumber: 9, type: 'context', content: '    ' },
          { lineNumber: 10, type: 'context', content: '    ClaudeFileGroup group1 = new ClaudeFileGroup();' },
          { lineNumber: 11, type: 'context', content: '    group1.setGroupId("api-contract");' },
          { lineNumber: 12, type: 'context', content: '    group1.setGroupName("API Contract Update");' },
          { lineNumber: 13, type: 'delete', content: '    // No review focus in old version' },
          { lineNumber: 14, type: 'add', content: '    group1.setReviewGuidance("Verify API contract changes maintain backwards compatibility.");' },
          { lineNumber: 15, type: 'context', content: '    ' },
          { lineNumber: 16, type: 'context', content: '    response.setGroups(List.of(group1));' },
          { lineNumber: 17, type: 'delete', content: '    // response.setGeneratedBy(...) - to be added' },
          { lineNumber: 18, type: 'add', content: '    ' },
          { lineNumber: 19, type: 'context', content: '    return response;' },
          { lineNumber: 20, type: 'context', content: '  }' },
          { lineNumber: 21, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
    ]
  },
  {
    groupId: 'infrastructure-snapshots',
    groupName: 'Infrastructure Test Snapshots Update',
    fileCount: 7,
    additions: 35,
    deletions: 35,
    needsReview: true,
    description: 'Updated infrastructure template snapshots across all environments to reflect API changes',
    reviewFocus: 'Verify snapshot updates are consistent across all environments (Dev, Staging, Prod, regions). Ensure changes reflect only the new review focus field addition without unintended infrastructure modifications.',
    files: [
      {
        filename: 'tests/__snapshots__/infra-snapshot-dev.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "dev",' },
          { lineNumber: 3, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 4, type: 'context', content: '  "schemas": {' },
          { lineNumber: 5, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 6, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 7, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 8, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 9, type: 'context', content: '        "description",' },
          { lineNumber: 10, type: 'delete', content: '        "files",' },
          { lineNumber: 11, type: 'add', content: '        "review_focus",' },
          { lineNumber: 12, type: 'add', content: '        "generated_by",' },
          { lineNumber: 13, type: 'context', content: '        "file_count",' },
          { lineNumber: 14, type: 'context', content: '        "additions",' },
          { lineNumber: 15, type: 'context', content: '        "deletions"' },
          { lineNumber: 16, type: 'context', content: '      ],' },
          { lineNumber: 17, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 18, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 19, type: 'context', content: '    }' },
          { lineNumber: 20, type: 'context', content: '  },' },
          { lineNumber: 21, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 22, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 23, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'tests/__snapshots__/infra-snapshot-staging.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "staging",' },
          { lineNumber: 3, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 4, type: 'context', content: '  "schemas": {' },
          { lineNumber: 5, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 6, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 7, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 8, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 9, type: 'context', content: '        "description",' },
          { lineNumber: 10, type: 'delete', content: '        "files",' },
          { lineNumber: 11, type: 'add', content: '        "review_focus",' },
          { lineNumber: 12, type: 'add', content: '        "generated_by",' },
          { lineNumber: 13, type: 'context', content: '        "file_count",' },
          { lineNumber: 14, type: 'context', content: '        "additions",' },
          { lineNumber: 15, type: 'context', content: '        "deletions"' },
          { lineNumber: 16, type: 'context', content: '      ],' },
          { lineNumber: 17, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 18, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 19, type: 'context', content: '    }' },
          { lineNumber: 20, type: 'context', content: '  },' },
          { lineNumber: 21, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 22, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 23, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'tests/__snapshots__/infra-snapshot-prod.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "production",' },
          { lineNumber: 3, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 4, type: 'context', content: '  "schemas": {' },
          { lineNumber: 5, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 6, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 7, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 8, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 9, type: 'context', content: '        "description",' },
          { lineNumber: 10, type: 'delete', content: '        "files",' },
          { lineNumber: 11, type: 'add', content: '        "review_focus",' },
          { lineNumber: 12, type: 'add', content: '        "generated_by",' },
          { lineNumber: 13, type: 'context', content: '        "file_count",' },
          { lineNumber: 14, type: 'context', content: '        "additions",' },
          { lineNumber: 15, type: 'context', content: '        "deletions"' },
          { lineNumber: 16, type: 'context', content: '      ],' },
          { lineNumber: 17, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 18, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 19, type: 'context', content: '    }' },
          { lineNumber: 20, type: 'context', content: '  },' },
          { lineNumber: 21, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 22, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 23, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'tests/__snapshots__/infra-snapshot-us-west-2.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "production",' },
          { lineNumber: 3, type: 'context', content: '  "region": "us-west-2",' },
          { lineNumber: 4, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 5, type: 'context', content: '  "schemas": {' },
          { lineNumber: 6, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 7, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 8, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 9, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 10, type: 'context', content: '        "description",' },
          { lineNumber: 11, type: 'delete', content: '        "files",' },
          { lineNumber: 12, type: 'add', content: '        "review_focus",' },
          { lineNumber: 13, type: 'add', content: '        "generated_by",' },
          { lineNumber: 14, type: 'context', content: '        "file_count",' },
          { lineNumber: 15, type: 'context', content: '        "additions",' },
          { lineNumber: 16, type: 'context', content: '        "deletions"' },
          { lineNumber: 17, type: 'context', content: '      ],' },
          { lineNumber: 18, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 19, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 20, type: 'context', content: '    }' },
          { lineNumber: 21, type: 'context', content: '  },' },
          { lineNumber: 22, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 23, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 24, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'tests/__snapshots__/infra-snapshot-eu-central-1.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "production",' },
          { lineNumber: 3, type: 'context', content: '  "region": "eu-central-1",' },
          { lineNumber: 4, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 5, type: 'context', content: '  "schemas": {' },
          { lineNumber: 6, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 7, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 8, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 9, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 10, type: 'context', content: '        "description",' },
          { lineNumber: 11, type: 'delete', content: '        "files",' },
          { lineNumber: 12, type: 'add', content: '        "review_focus",' },
          { lineNumber: 13, type: 'add', content: '        "generated_by",' },
          { lineNumber: 14, type: 'context', content: '        "file_count",' },
          { lineNumber: 15, type: 'context', content: '        "additions",' },
          { lineNumber: 16, type: 'context', content: '        "deletions"' },
          { lineNumber: 17, type: 'context', content: '      ],' },
          { lineNumber: 18, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 19, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 20, type: 'context', content: '    }' },
          { lineNumber: 21, type: 'context', content: '  },' },
          { lineNumber: 22, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 23, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 24, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'tests/__snapshots__/infra-snapshot-ap-southeast-1.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "production",' },
          { lineNumber: 3, type: 'context', content: '  "region": "ap-southeast-1",' },
          { lineNumber: 4, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 5, type: 'context', content: '  "schemas": {' },
          { lineNumber: 6, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 7, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 8, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 9, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 10, type: 'context', content: '        "description",' },
          { lineNumber: 11, type: 'delete', content: '        "files",' },
          { lineNumber: 12, type: 'add', content: '        "review_focus",' },
          { lineNumber: 13, type: 'add', content: '        "generated_by",' },
          { lineNumber: 14, type: 'context', content: '        "file_count",' },
          { lineNumber: 15, type: 'context', content: '        "additions",' },
          { lineNumber: 16, type: 'context', content: '        "deletions"' },
          { lineNumber: 17, type: 'context', content: '      ],' },
          { lineNumber: 18, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 19, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 20, type: 'context', content: '    }' },
          { lineNumber: 21, type: 'context', content: '  },' },
          { lineNumber: 22, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 23, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 24, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
      {
        filename: 'tests/__snapshots__/infra-snapshot-ap-northeast-1.json',
        additions: 5,
        deletions: 5,
        coverage: 0,
        duplications: 0,
        issues: 0,
        changes: [
          { lineNumber: 1, type: 'context', content: '{' },
          { lineNumber: 2, type: 'context', content: '  "environment": "production",' },
          { lineNumber: 3, type: 'context', content: '  "region": "ap-northeast-1",' },
          { lineNumber: 4, type: 'context', content: '  "api_version": "1.5.0",' },
          { lineNumber: 5, type: 'context', content: '  "schemas": {' },
          { lineNumber: 6, type: 'context', content: '    "PrDiffGroup": {' },
          { lineNumber: 7, type: 'delete', content: '      "required_fields": ["group_id", "group_name"],' },
          { lineNumber: 8, type: 'add', content: '      "required_fields": ["group_id", "group_name", "files"],' },
          { lineNumber: 9, type: 'context', content: '      "optional_fields": [' },
          { lineNumber: 10, type: 'context', content: '        "description",' },
          { lineNumber: 11, type: 'delete', content: '        "files",' },
          { lineNumber: 12, type: 'add', content: '        "review_focus",' },
          { lineNumber: 13, type: 'add', content: '        "generated_by",' },
          { lineNumber: 14, type: 'context', content: '        "file_count",' },
          { lineNumber: 15, type: 'context', content: '        "additions",' },
          { lineNumber: 16, type: 'context', content: '        "deletions"' },
          { lineNumber: 17, type: 'context', content: '      ],' },
          { lineNumber: 18, type: 'delete', content: '      "field_count": 8' },
          { lineNumber: 19, type: 'add', content: '      "field_count": 10' },
          { lineNumber: 20, type: 'context', content: '    }' },
          { lineNumber: 21, type: 'context', content: '  },' },
          { lineNumber: 22, type: 'delete', content: '  "snapshot_date": "2025-02-10T14:30:00Z"' },
          { lineNumber: 23, type: 'add', content: '  "snapshot_date": "2025-02-16T10:45:00Z"' },
          { lineNumber: 24, type: 'context', content: '}' },
        ],
        expanded: false,
        checked: false
      },
    ]
  },
];
